{"version":3,"sources":["icons sync /.svg$","icons/chart.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/tag.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","lib/createId.tsx","components/hooks/useUpdate.tsx","components/hooks/useTags.tsx","components/Button.tsx","components/Center.tsx","Views/Tags.tsx","Views/Money/TagsSection.tsx","components/Input.tsx","Views/Money/NoteSection.tsx","Views/Money/CategorySection.tsx","Views/Money/NumberPadSection/Wrapper.tsx","Views/Money/NumberPadSection.tsx","Views/Money/NumberPadSection/generateOutput.tsx","components/hooks/useRecords.tsx","Views/Money.tsx","Views/Statistics.tsx","Views/NoMatch.tsx","Views/Tag.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","name","children","className","rest","cs","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","mainRef","useRef","useEffect","setTimeout","current","scrollTop","ref","defaultProps","parseInt","window","localStorage","getItem","createId","setItem","JSON","stringify","useUpdate","fn","dependency","count","useTags","useState","tags","setTags","localTags","parse","length","getName","tag","filter","t","addTag","tagName","prompt","findTag","updateTag","findTagIndex","result","i","deleteTag","Button","button","Center","TagList","ol","Tags","key","onClick","section","TagsSection","selectedTagIds","value","tagId","indexOf","onChange","Label","label","Input","NoteSection","note","type","target","placeholder","CategorySection","categoryMap","categoryList","category","c","NumberPadSection","toString","output","_setOutput","text","textContent","split","concat","newOutput","slice","parseFloat","setOutput","generateOutput","onOk","useRecords","records","setRecords","addRecord","newRecord","amount","alert","tagIds","record","createdAt","Date","toISOString","MyLayout","defaultFormData","CategoryWrapper","Money","selected","setSelected","obj","Item","Header","h3","Statistics","setCategory","hash","r","day","format","push","array","entries","sort","a","b","date","reduce","span","index","NoMatch","InputWrapper","Topbar","header","Tag","idString","useParams","history","useHistory","goBack","tagContent","AppWrapper","App","exact","path","from","ReactDOM","render","document","getElementById"],"mappings":"0IAAA,IAAIA,EAAM,CACT,cAAe,GACf,aAAc,GACd,cAAe,GACf,cAAe,GACf,YAAa,IAId,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,I,gCC1BpB,4CAEIY,EAAS,IAAI,IAAa,CAC5B,GAAM,QACN,IAAO,cACP,QAAW,gBACX,QAAW,grCAEA,IAAOC,IAAID,GACT,a,gCCTf,4CAEIA,EAAS,IAAI,IAAa,CAC5B,GAAM,OACN,IAAO,aACP,QAAW,gBACX,QAAW,sfAEA,IAAOC,IAAID,GACT,a,gCCTf,4CAEIA,EAAS,IAAI,IAAa,CAC5B,GAAM,QACN,IAAO,cACP,QAAW,gBACX,QAAW,+WAEA,IAAOC,IAAID,GACT,a,gCCTf,4CAEIA,EAAS,IAAI,IAAa,CAC5B,GAAM,QACN,IAAO,cACP,QAAW,gBACX,QAAW,ogBAEA,IAAOC,IAAID,GACT,a,gCCTf,4CAEIA,EAAS,IAAI,IAAa,CAC5B,GAAM,MACN,IAAO,YACP,QAAW,gBACX,QAAW,qpBAEA,IAAOC,IAAID,GACT,a,gECNEE,E,uFAEjB,KAFiBA,EAGLC,OAFKR,OAAOS,QAAQF,GAG9B,MAAOG,IACPC,QAAQC,IAAIF,IAOd,IASeG,EATF,SAACC,GACmCA,EAAvCC,KAAuCD,EAAjCE,SADgB,IACNC,EAAuBH,EAAvBG,UAAcC,EADT,YACkBJ,EADlB,iCAE7B,OACE,uCAAKG,UAAWE,IAAG,OAAQF,IAAgBC,GACxCJ,EAAMC,MAAQ,yBAAKK,UAAW,IAAMN,EAAMC,S,uoBCdjD,IAAMM,EAAaC,IAAOC,IAAV,KAyDDC,EA3BH,WACV,OACE,kBAACH,EAAD,KACE,4BACE,4BACE,kBAAC,IAAD,CAASI,GAAG,QAAQC,gBAAgB,YAClC,kBAAC,EAAD,CAAMX,KAAK,QADb,uBAKF,4BACE,kBAAC,IAAD,CAASU,GAAG,SAASC,gBAAgB,YACnC,kBAAC,EAAD,CAAMX,KAAK,UADb,uBAKF,4BACE,kBAAC,IAAD,CAASU,GAAG,cAAcC,gBAAgB,YACxC,kBAAC,EAAD,CAAMX,KAAK,UADb,0B,oSC/CV,IAAMY,EAAUL,IAAOM,IAAV,KAKPC,EAAOP,IAAOM,IAAV,KAYJE,EAA0B,SAAChB,GAC/B,IAAMiB,EAAUC,iBAAuB,MASvC,OARAC,qBAAU,WACRC,YAAW,WACJH,EAAQI,UAGbJ,EAAQI,QAAQC,UAAYtB,EAAMsB,aACjC,KACF,CAACtB,EAAMsB,YAER,kBAACT,EAAD,KACE,kBAACE,EAAD,CAAMQ,IAAKN,EAASd,UAAWH,EAAMG,WAClCH,EAAME,UAET,kBAAC,EAAD,QAINc,EAAOQ,aAAe,CACpBF,UAAW,GAGEN,Q,eC7CXrC,EAAK8C,SAASC,OAAOC,aAAaC,QAAQ,UAAY,KACpDC,EAAW,WAGf,OAFAlD,GAAM,EACN+C,OAAOC,aAAaG,QAAQ,QAASC,KAAKC,UAAUrD,IAC7CA,GCFIsD,EAAY,SAACC,EAAgBC,GACxC,IAAMC,EAAQlB,iBAAO,GACrBC,qBAAU,WACRiB,EAAMf,SAAW,KAEnBF,qBAAU,WACJiB,EAAMf,QAAU,GAClBa,MAED,CAACA,EAAIC,KCPJE,EAAU,WAAO,IAAD,EACIC,mBAAyC,IAD7C,mBACbC,EADa,KACPC,EADO,KAEpBrB,qBAAU,WACR,IAAIsB,EAAYV,KAAKW,MAAMhB,OAAOC,aAAaC,QAAQ,SAAW,MACzC,IAArBa,EAAUE,SACZF,EAAY,CACV,CAAE9D,GAAIkD,IAAY5B,KAAM,gBACxB,CAAEtB,GAAIkD,IAAY5B,KAAM,gBACxB,CAAEtB,GAAIkD,IAAY5B,KAAM,gBACxB,CAAEtB,GAAIkD,IAAY5B,KAAM,kBAG5BuC,EAAQC,KACP,IAEHR,GAAU,WACRP,OAAOC,aAAaG,QAAQ,OAAQC,KAAKC,UAAUO,MAClDA,GA4BH,MAAO,CACLA,OACAK,QANc,SAACjE,GACf,IAAMkE,EAAMN,EAAKO,QAAO,SAACC,GAAD,OAAOA,EAAEpE,KAAOA,KAAI,GAC5C,OAAOkE,EAAMA,EAAI5C,KAAO,IAKxB+C,OAba,WACb,IAAMC,EAAUvB,OAAOwB,OAAO,wCACd,OAAZD,GAAgC,KAAZA,GACtBT,EAAQ,GAAD,mBAAKD,GAAL,CAAW,CAAE5D,GAAIkD,IAAY5B,KAAMgD,OAW5CT,UACAW,QAhCc,SAACxE,GAAD,OAAgB4D,EAAKO,QAAO,SAACD,GAAD,OAASA,EAAIlE,KAAOA,KAAI,IAiClEyE,UAtBgB,SAACzE,EAAD,GAA6C,IAA9BsB,EAA6B,EAA7BA,KAC/BuC,EAAQD,EAAK/D,KAAI,SAACqE,GAAD,OAAUA,EAAIlE,KAAOA,EAAK,CAAEA,KAAIsB,KAAMA,GAAS4C,OAsBhEQ,aAjCmB,SAAC1E,GAEpB,IADA,IAAI2E,GAAU,EACLC,EAAI,EAAGA,EAAIhB,EAAKI,OAAQY,IAC/B,GAAIhB,EAAKgB,GAAG5E,KAAOA,EAAI,CACrB2E,EAASC,EACT,MAGJ,OAAOD,GA0BPE,UArBgB,SAAC7E,GACjB6D,EAAQD,EAAKO,QAAO,SAACD,GAAD,OAASA,EAAIlE,KAAOA,S,4MCnC5C,IAAM8E,EAASjD,IAAOkD,OAAV,K,kKCAZ,IAAMC,EAASnD,IAAOM,IAAV,K,sXCOZ,IAAM8C,EAAUpD,IAAOqD,GAAV,KAqCEC,MArBf,WAAiB,IAAD,EACWzB,IAAjBE,EADM,EACNA,KAAMS,EADA,EACAA,OACd,OACE,kBAAC,EAAD,KACE,kBAACY,EAAD,KACGrB,EAAK/D,KAAI,SAACqE,GAAD,OACR,wBAAIkB,IAAKlB,EAAIlE,IACX,kBAAC,IAAD,CAAMgC,GAAI,SAAWkC,EAAIlE,IACvB,8BAAOkE,EAAI5C,MACX,kBAAC,EAAD,CAAMA,KAAK,gBAKnB,kBAAC0D,EAAD,KACE,kBAACF,EAAD,CAAQO,QAAShB,GAAjB,+B,orBCpCR,IAAMnC,EAAUL,IAAOyD,QAAV,KAoCPC,EAA+B,SAAClE,GAAW,IAAD,EACrBqC,IAAjBE,EADsC,EACtCA,KAAMS,EADgC,EAChCA,OACRmB,EAAiBnE,EAAMoE,MAW7B,OACE,kBAAC,EAAD,KACE,4BACG7B,EAAK/D,KAAI,SAACqE,GAAD,OACR,wBACEkB,IAAKlB,EAAIlE,GACTqF,QAAS,WAhBC,IAACK,IAiBGxB,EAAIlE,GAhBZwF,EAAeG,QAAQD,IACxB,EACXrE,EAAMuE,SAASJ,EAAerB,QAAO,SAACC,GAAD,OAAOA,IAAMsB,MAElDrE,EAAMuE,SAAN,sBAAmBJ,GAAnB,CAAmCE,MAc7BlE,WAXQkE,EAWYxB,EAAIlE,GAVhCwF,EAAeG,QAAQD,IAAU,EAAI,WAAa,KAYzCxB,EAAI5C,MAbE,IAACoE,MAiBd,4BAAQL,QAAShB,GAAjB,8B,2SCjEN,IAAMwB,EAAQhE,IAAOiE,MAAV,KAmBLC,EAAyB,SAAC1E,GACHA,EAAnByE,MADiC,IACvBrE,EADsB,YACbJ,EADa,WAExC,OACE,kBAACwE,EAAD,KACE,8BAAOxE,EAAMyE,OACb,0BAAWrE,K,0ICvBjB,IAAMS,EAAUL,IAAOyD,QAAV,KAUPU,EAA+B,SAAC3E,GACpC,IAAM4E,EAAO5E,EAAMoE,MAInB,OACE,kBAAC,EAAD,KACE,kBAAC,EAAD,CACEK,MAAM,eACNI,KAAK,OACLT,MAAOQ,EACPL,SATiD,SAACxF,GACtDiB,EAAMuE,SAASxF,EAAE+F,OAAOV,QASpBW,YAAY,iD,+cCvBpB,IAAMlE,EAAUL,IAAOyD,QAAV,KA0BPe,EAAmC,SAAChF,GACxC,IAAMiF,EAAc,CAAE,IAAK,eAAM,IAAK,gBADY,EAG3B3C,mBAAiB,CAAC,IAAK,MAAvC4C,EAH2C,oBAI5CC,EAAWnF,EAAMoE,MACvB,OACE,kBAAC,EAAD,KACE,4BACGc,EAAa1G,KAAI,SAAC4G,GAAD,OAChB,wBACErB,IAAKqB,EACLjF,UAAWgF,IAAaC,EAAI,WAAa,GACzCpB,QAAS,WACPhE,EAAMuE,SAASa,KAGhBH,EAAYG,U,qrCC3CzB,IAAMvE,EAAUL,IAAOyD,QAAV,KCOPoB,EAAoC,SAACrF,GAAW,IAAD,EACtBsC,mBAAStC,EAAMoE,MAAMkB,YADC,mBAC5CC,EAD4C,KACpCC,EADoC,KA6BnD,OACE,kBAAC,EAAD,KACE,yBAAKrF,UAAU,UAAUoF,GACzB,yBAAKpF,UAAU,eAAe6D,QAlBL,SAACjF,GAC5B,IAAM0G,EAAQ1G,EAAE+F,OAA6BY,YAChC,OAATD,IAGS,OAATA,EAMA,cAAcE,MAAM,IAAIC,OAAO,CAAC,eAAM,iBAAOtB,QAAQmB,IAAS,GAvBlD,SAACF,GACjB,IAAIM,EAEFA,EADEN,EAAO5C,OAAS,GACN4C,EAAOO,MAAM,EAAG,IACD,IAAlBP,EAAO5C,OACJ,IAEA4C,EAEdC,EAAWK,GACX7F,EAAMuE,SAASwB,WAAWF,IAcxBG,CCnCiB,SAACP,GAAgC,IAAlBF,EAAiB,uDAAR,IAC7C,OAAQE,GACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACH,MAAe,MAAXF,EACKE,EAEAF,EAASE,EAEpB,IAAK,IACH,OAAIF,EAAOjB,QAAQ,MAAQ,EAClBiB,EAEFA,EAAS,IAClB,IAAK,eACH,OAAsB,IAAlBA,EAAO5C,OACF,GAEA4C,EAAOO,MAAM,GAAI,IAAM,GAElC,IAAK,eAEL,QACE,MAAO,IDIGG,CAAeR,EAAMF,IAN3BvF,EAAMkG,MACRlG,EAAMkG,UAYN,qCACA,qCACA,qCACA,gDACA,qCACA,qCACA,qCACA,gDACA,qCACA,qCACA,qCACA,4BAAQ/F,UAAU,MAAlB,MACA,4BAAQA,UAAU,QAAlB,KACA,4BAAQA,UAAU,OAAlB,QE7CKgG,GAAa,WAAO,IAAD,EACA7D,mBAAuB,IADvB,mBACvB8D,EADuB,KACdC,EADc,KAE9BlF,qBAAU,WACRkF,EAAWtE,KAAKW,MAAMhB,OAAOC,aAAaC,QAAQ,YAAc,SAC/D,IACHK,GAAU,WACRP,OAAOC,aAAaG,QAAQ,UAAWC,KAAKC,UAAUoE,MACrDA,GAcH,MAAO,CAAEA,UAASE,UAbA,SAACC,GACjB,GAAIA,EAAUC,QAAU,EAEtB,OADAC,MAAM,mCACC,EAET,GAAgC,IAA5BF,EAAUG,OAAO/D,OAEnB,OADA8D,MAAM,mCACC,EAET,IAAME,EAAM,2BAAQJ,GAAR,IAAmBK,WAAW,IAAIC,MAAOC,gBAErD,OADAT,EAAW,GAAD,mBAAKD,GAAL,CAAcO,MACjB,K,uNCpBX,IAAMI,GAAWvG,YAAOQ,EAAPR,CAAH,MAMRwG,GAAkB,CACtBN,OAAQ,GACR9B,KAAM,GACNO,SAAU,IACVqB,OAAQ,GAGJS,GAAkBzG,IAAOM,IAAV,MA4CNoG,OAxCf,WAAkB,IAAD,EACiB5E,mBAAS0E,IAD1B,mBACRG,EADQ,KACEC,EADF,KAEPd,EAAcH,KAAdG,UACF/B,EAAW,SAAC8C,GAChBD,EAAY,2BACPD,GACAE,KASP,OACE,kBAACN,GAAD,CAAUzF,UAAW,MACnB,kBAAC,EAAD,CACE8C,MAAO+C,EAAST,OAChBnC,SAAU,SAACmC,GAAD,OAAYnC,EAAS,CAAEmC,cAEnC,kBAAC,EAAD,CACEtC,MAAO+C,EAASvC,KAChBL,SAAU,SAACK,GAAD,OAAUL,EAAS,CAAEK,YAEjC,kBAACqC,GAAD,KACE,kBAAC,EAAD,CACE7C,MAAO+C,EAAShC,SAChBZ,SAAU,SAACY,GAAD,OAAcZ,EAAS,CAAEY,iBAGvC,kBAAC,EAAD,CACEf,MAAO+C,EAASX,OAChBjC,SAAU,SAACiC,GAAD,OAAYjC,EAAS,CAAEiC,YACjCN,KAzBS,WACTI,EAAUa,KACZV,MAAM,4BACNW,EAAYJ,U,uiBC7BlB,IAAMC,GAAkBzG,IAAOM,IAAV,MAGfwG,GAAO9G,IAAOM,IAAV,MAaJyG,GAAS/G,IAAOgH,GAAV,MAgEGC,OA1Df,WAAuB,IAAD,EACYnF,mBAAoB,KADhC,mBACb6C,EADa,KACHuC,EADG,KAEZtB,EAAYD,KAAZC,QACAxD,EAAYP,IAAZO,QACF+E,EAAsC,GACpBvB,EAAQtD,QAAO,SAAC8E,GAAD,OAAOA,EAAEzC,WAAaA,KAC7CxF,SAAQ,SAACiI,GACvB,IAAM7D,EAAM8D,KAAID,EAAEhB,WAAWkB,OAAO,8BAC9B/D,KAAO4D,IACXA,EAAK5D,GAAO,IAEd4D,EAAK5D,GAAKgE,KAAKH,MAEjB,IAAMI,EAAQ7I,OAAO8I,QAAQN,GAAMO,MAAK,SAACC,EAAGC,GAC1C,OAAID,EAAE,KAAOC,EAAE,GAAW,EACtBD,EAAE,GAAKC,EAAE,IAAY,EACrBD,EAAE,GAAKC,EAAE,GAAW,EACjB,KAGT,OADAvI,QAAQC,IAAIkI,GAEV,kBAAC,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,EAAD,CACE5D,MAAOe,EACPZ,SAAU,SAACH,GAAD,OAAWsD,EAAYtD,OAGpC4D,EAAMxJ,KAAI,mCAAE6J,EAAF,KAAQjC,EAAR,YACT,yBAAKrC,IAAI,UACP,kBAACwD,GAAD,KAASc,GACT,6BACGjC,EAAQ5H,KAAI,SAACoJ,GACZ,OACE,kBAACN,GAAD,CAAMvD,IAAK6D,EAAEhB,WACX,yBAAKzG,UAAU,gBACZyH,EAAElB,OACAlI,KAAI,SAAC6F,GAAD,OAAW,0BAAMN,IAAKM,GAAQzB,EAAQyB,OAC1CiE,QACC,SAAChF,EAAQiF,EAAMC,EAAOR,GAAtB,OACE1E,EAAOsC,OACL4C,EAAQR,EAAMrF,OAAS,EAAI,CAAC4F,EAAM,UAAO,CAACA,MAE9C,KAGLX,EAAEhD,MAAQ,yBAAKzE,UAAU,QAAQyH,EAAEhD,MACpC,yBAAKzE,UAAU,UAAf,SAA0ByH,EAAEpB,mBCzE/BiC,OAJf,WACE,OAAO,iH,2VCQT,IAAMC,GAAelI,IAAOM,IAAV,MAQZ6H,GAASnI,IAAOoI,OAAV,MAQNC,GAAgB,WAAO,IAAD,EACgBxG,IAAlCc,EADkB,EAClBA,QAASC,EADS,EACTA,UAAWI,EADF,EACEA,UAClBsF,EAAaC,cAAjBpK,GACAkE,EAAMM,EAAQ1B,SAASqH,IAmBvBE,EAAUC,cAIhB,OACE,kBAAC,EAAD,KACE,kBAACN,GAAD,KACE,kBAAC,EAAD,CAAM1I,KAAK,OAAO+D,QANJ,WAClBgF,EAAQE,YAMJ,0DACA,kBAAC,EAAD,OAEDrG,EA7Bc,SAACA,GAAD,OACjB,6BACE,kBAAC6F,GAAD,KACE,kBAAC,EAAD,CACEjE,MAAM,qBACNI,KAAK,OACLE,YAAY,uCACZX,MAAOvB,EAAI5C,KACXsE,SAAU,SAACxF,GACTqE,EAAUP,EAAIlE,GAAI,CAAEsB,KAAMlB,EAAE+F,OAAOV,YAIzC,kBAACT,EAAD,KACE,kBAACF,EAAD,CAAQO,QAAS,kBAAMR,EAAUX,EAAIlE,MAArC,8BAeKwK,CAAWtG,GAAO,kBAACc,EAAD,iC,iIC7C/B,IAAMyF,GAAa5I,IAAOM,IAAV,MAiCDuI,OA3Bf,WACE,OACE,kBAACD,GAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOE,OAAK,EAACC,KAAK,SAChB,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,aAChB,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,UAChB,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,eAChB,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAUD,OAAK,EAACE,KAAK,IAAI7I,GAAG,UAC5B,kBAAC,IAAD,CAAO4I,KAAK,KACV,kBAAC,GAAD,W,MClCZE,IAASC,OAAO,kBAAC,GAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.5df363d5.chunk.js","sourcesContent":["var map = {\n\t\"./chart.svg\": 39,\n\t\"./left.svg\": 40,\n\t\"./money.svg\": 41,\n\t\"./right.svg\": 42,\n\t\"./tag.svg\": 43\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 38;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><defs><style></style></defs><path d=\\\"M973.944 559.561H336.78c-26.406 0-47.787-21.313-47.787-47.562 0-26.29 21.383-47.561 47.787-47.561h637.162c26.41 0 47.79 21.267 47.79 47.561 0 26.249-21.38 47.562-47.788 47.562zm0-253.646H336.78c-26.406 0-47.787-21.314-47.787-47.562 0-26.292 21.383-47.561 47.787-47.561h637.162c26.41 0 47.79 21.268 47.79 47.561 0 26.248-21.38 47.562-47.788 47.562zM145.631 813.208H50.056c-26.407 0-47.788-21.315-47.788-47.562 0-26.292 21.383-47.562 47.788-47.562H145.63c26.406 0 47.787 21.27 47.787 47.562.002 26.246-21.381 47.562-47.786 47.562zm0-253.647H50.056c-26.407 0-47.788-21.313-47.788-47.562 0-26.29 21.383-47.561 47.788-47.561H145.63c26.406 0 47.787 21.267 47.787 47.561.002 26.249-21.381 47.562-47.786 47.562zm0-253.646H50.056c-26.407 0-47.788-21.314-47.788-47.562 0-26.292 21.383-47.561 47.788-47.561H145.63c26.406 0 47.787 21.268 47.787 47.561.002 26.248-21.381 47.562-47.786 47.562zM336.78 813.208c-26.406 0-47.787-21.315-47.787-47.562 0-26.292 21.383-47.562 47.787-47.562h637.162c26.41 0 47.79 21.27 47.79 47.562 0 26.246-21.382 47.562-47.79 47.562H336.78z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M726.048 74.016c12.512 12.512 13.248 31.872 2.048 43.776l-376.48 376.512c-16.16 15.328-16.096 19.328 0 35.424l376.48 376.448c11.232 11.904 10.464 31.264-2.048 43.776-12.736 12.736-32.608 13.44-44.448 1.632L263.424 533.408c-5.152-5.152-7.456-11.84-7.872-18.784v-5.248c.448-6.944 2.752-13.632 7.872-18.784L681.6 72.384c11.84-11.776 31.744-11.072 44.448 1.632z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style></style></defs><path d=\\\"M463.3 958.3V772.1H228.8v-77.5h234.5v-80.5H228.8v-83.5H420L191.5 128h113.7L469 420.6c18.2 33.4 32.4 62.4 42.7 86.9 9-19.8 24.6-50.5 46.8-92.1L713.9 128h120.8L605.5 530.6h192.9v83.5H564.9v80.5h233.5v77.5H564.9v186.2H463.3z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M297.952 949.9839999999999c-12.512-12.512-13.248-31.872-2.048-43.776l376.48-376.512c16.16-15.328 16.096-19.328 0-35.424l-376.48-376.448c-11.232-11.904-10.464-31.264 2.048-43.776 12.736-12.736 32.608-13.44 44.448-1.632l418.176 418.176c5.152 5.152 7.456 11.84 7.872 18.784v5.248c-.448 6.944-2.752 13.632-7.872 18.784L342.4 951.616c-11.84 11.776-31.744 11.072-44.448-1.632z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style></style></defs><path d=\\\"M562.873 99.366a31.976 31.976 0 0127.132-9.044l276.973 39.567a31.976 31.976 0 0127.133 27.133l39.567 276.973a31.976 31.976 0 01-9.044 27.132L461.127 924.635c-12.487 12.487-32.733 12.487-45.22 0L99.365 608.093c-12.487-12.487-12.487-32.733 0-45.22L562.873 99.366zm39.567 73.483L189.806 585.483l248.711 248.711L851.151 421.56l-31.088-217.623L602.44 172.85zm16.958 118.703c31.218-31.218 81.832-31.218 113.05 0 31.218 31.218 31.218 81.832 0 113.05-31.218 31.218-81.832 31.218-113.05 0-31.218-31.218-31.218-81.832 0-113.05z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from \"react\";\r\nimport cs from \"classnames\";\r\n\r\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) =>\r\n  requireContext.keys().forEach(requireContext);\r\ntry {\r\n  importAll(require.context(\"icons\", true, /\\.svg$/));\r\n} catch (error) {\r\n  console.log(error);\r\n}\r\n\r\ntype Props = {\r\n  name?: string;\r\n} & React.SVGAttributes<SVGElement>;\r\n\r\nconst Icon = (props: Props) => {\r\n  const { name, children, className, ...rest } = props;\r\n  return (\r\n    <svg className={cs(`icon`, className)} {...rest}>\r\n      {props.name && <use xlinkHref={\"#\" + props.name} />}\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Icon;\r\n","import styled from \"styled-components\";\r\nimport React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Icon from \"./Icon\";\r\n\r\nconst NavWrapper = styled.nav`\r\n  line-height: 24px;\r\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.25);\r\n  background: white;\r\n  > ul {\r\n    display: flex;\r\n    > li {\r\n      width: 33.33%;\r\n      text-align: center;\r\n      > a {\r\n        display: flex;\r\n        flex-direction: column;\r\n        padding: 4px 0;\r\n        justify-content: center;\r\n        align-items: center;\r\n        .icon {\r\n          width: 24px;\r\n          height: 24px;\r\n        }\r\n        &.selected {\r\n          color: rgb(255, 218, 68);\r\n          .icon {\r\n            fill: rgb(255, 218, 68);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst Nav = () => {\r\n  return (\r\n    <NavWrapper>\r\n      <ul>\r\n        <li>\r\n          <NavLink to=\"/tags\" activeClassName=\"selected\">\r\n            <Icon name=\"tag\" />\r\n            标签页\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/money\" activeClassName=\"selected\">\r\n            <Icon name=\"money\" />\r\n            记账页\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/statistics\" activeClassName=\"selected\">\r\n            <Icon name=\"chart\" />\r\n            统计页\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </NavWrapper>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import Nav from \"./Nav\";\r\nimport React, { useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst Wrapper = styled.div`\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nconst Main = styled.div`\r\n  flex-grow: 1;\r\n  overflow: auto;\r\n  &::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  className?: string;\r\n  scrollTop?: number;\r\n};\r\nconst Layout: React.FC<Props> = (props) => {\r\n  const mainRef = useRef<HTMLDivElement>(null);\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      if (!mainRef.current) {\r\n        return;\r\n      }\r\n      mainRef.current.scrollTop = props.scrollTop!;\r\n    }, 0);\r\n  }, [props.scrollTop]);\r\n  return (\r\n    <Wrapper>\r\n      <Main ref={mainRef} className={props.className}>\r\n        {props.children}\r\n      </Main>\r\n      <Nav />\r\n    </Wrapper>\r\n  );\r\n};\r\nLayout.defaultProps = {\r\n  scrollTop: 0,\r\n};\r\n\r\nexport default Layout;\r\n","let id = parseInt(window.localStorage.getItem(\"idMax\") || \"0\");\r\nconst createId = () => {\r\n  id += 1;\r\n  window.localStorage.setItem(\"idMax\", JSON.stringify(id));\r\n  return id;\r\n};\r\n\r\nexport { createId };\r\n","import { useEffect, useRef } from \"react\";\r\n\r\nexport const useUpdate = (fn: () => void, dependency: any[]) => {\r\n  const count = useRef(0);\r\n  useEffect(() => {\r\n    count.current += 1;\r\n  });\r\n  useEffect(() => {\r\n    if (count.current > 1) {\r\n      fn();\r\n    }\r\n  }, [fn, dependency]);\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport { createId } from \"lib/createId\";\r\nimport { useUpdate } from \"./useUpdate\";\r\n\r\nconst useTags = () => {\r\n  const [tags, setTags] = useState<{ id: number; name: string }[]>([]);\r\n  useEffect(() => {\r\n    let localTags = JSON.parse(window.localStorage.getItem(\"tags\") || \"[]\");\r\n    if (localTags.length === 0) {\r\n      localTags = [\r\n        { id: createId(), name: \"购物\" },\r\n        { id: createId(), name: \"餐饮\" },\r\n        { id: createId(), name: \"住房\" },\r\n        { id: createId(), name: \"交通\" },\r\n      ];\r\n    }\r\n    setTags(localTags);\r\n  }, []);\r\n\r\n  useUpdate(() => {\r\n    window.localStorage.setItem(\"tags\", JSON.stringify(tags));\r\n  }, tags);\r\n  const findTag = (id: number) => tags.filter((tag) => tag.id === id)[0];\r\n  const findTagIndex = (id: number) => {\r\n    let result = -1;\r\n    for (let i = 0; i < tags.length; i++) {\r\n      if (tags[i].id === id) {\r\n        result = i;\r\n        break;\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n  const updateTag = (id: number, { name }: { name: string }) => {\r\n    setTags(tags.map((tag) => (tag.id === id ? { id, name: name } : tag)));\r\n  };\r\n  const deleteTag = (id: number) => {\r\n    setTags(tags.filter((tag) => tag.id !== id));\r\n  };\r\n  const addTag = () => {\r\n    const tagName = window.prompt(\"请输入标签名\");\r\n    if (tagName !== null && tagName !== \"\") {\r\n      setTags([...tags, { id: createId(), name: tagName }]);\r\n    }\r\n  };\r\n  const getName = (id: number) => {\r\n    const tag = tags.filter((t) => t.id === id)[0];\r\n    return tag ? tag.name : \"\";\r\n  };\r\n  return {\r\n    tags,\r\n    getName,\r\n    addTag,\r\n    setTags,\r\n    findTag,\r\n    updateTag,\r\n    findTagIndex,\r\n    deleteTag,\r\n  };\r\n};\r\n\r\nexport { useTags };\r\n","import styled from \"styled-components\";\r\n\r\nconst Button = styled.button`\r\n  font-size: 18px;\r\n  border: none;\r\n  padding: 8px 12px;\r\n  background: rgb(255, 218, 68);\r\n  border-radius: 4px;\r\n  color: white;\r\n`;\r\n\r\nexport { Button };\r\n","import styled from \"styled-components\";\r\n\r\nconst Center = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 32px;\r\n`;\r\n\r\nexport { Center };\r\n","import Layout from \"components/Layout\";\r\nimport React from \"react\";\r\nimport { useTags } from \"components/hooks/useTags\";\r\nimport Icon from \"../components/Icon\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"components/Button\";\r\nimport { Center } from \"components/Center\";\r\n\r\nconst TagList = styled.ol`\r\n  font-size: 16px;\r\n  background: white;\r\n  > li {\r\n    border-bottom: 1px solid #d5d5d9;\r\n    line-height: 20px;\r\n    margin-left: 16px;\r\n    margin-right: 16px;\r\n    > a {\r\n      padding: 12px 16px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n    }\r\n  }\r\n`;\r\nfunction Tags() {\r\n  const { tags, addTag } = useTags();\r\n  return (\r\n    <Layout>\r\n      <TagList>\r\n        {tags.map((tag) => (\r\n          <li key={tag.id}>\r\n            <Link to={\"/tags/\" + tag.id}>\r\n              <span>{tag.name}</span>\r\n              <Icon name=\"right\" />\r\n            </Link>\r\n          </li>\r\n        ))}\r\n      </TagList>\r\n      <Center>\r\n        <Button onClick={addTag}>新增标签</Button>\r\n      </Center>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Tags;\r\n","import styled from \"styled-components\";\r\nimport React from \"react\";\r\nimport { useTags } from \"components/hooks/useTags\";\r\n\r\nconst Wrapper = styled.section`\r\n  background: #ffffff;\r\n  padding: 12px 16px;\r\n  flex-grow: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  align-items: flex-start;\r\n  > ol {\r\n    margin: 0 -12px;\r\n    > li {\r\n      background: #d9d9d9;\r\n      border-radius: 18px;\r\n      display: inline-block;\r\n      padding: 3px 18px;\r\n      font-size: 14px;\r\n      margin: 8px 12px;\r\n      &.selected {\r\n        background: rgb(255, 218, 68);\r\n      }\r\n    }\r\n  }\r\n  > button {\r\n    background: none;\r\n    border: none;\r\n    padding: 2px 4px;\r\n    border-bottom: 1px solid #333;\r\n    color: #666;\r\n    margin-top: 8px;\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  value: number[];\r\n  onChange: (selected: number[]) => void;\r\n};\r\nconst TagsSection: React.FC<Props> = (props) => {\r\n  const { tags, addTag } = useTags();\r\n  const selectedTagIds = props.value;\r\n  const onToggleTag = (tagId: number) => {\r\n    const index = selectedTagIds.indexOf(tagId);\r\n    if (index >= 0) {\r\n      props.onChange(selectedTagIds.filter((t) => t !== tagId));\r\n    } else {\r\n      props.onChange([...selectedTagIds, tagId]);\r\n    }\r\n  };\r\n  const getClass = (tagId: number) =>\r\n    selectedTagIds.indexOf(tagId) >= 0 ? \"selected\" : \"\";\r\n  return (\r\n    <Wrapper>\r\n      <ol>\r\n        {tags.map((tag) => (\r\n          <li\r\n            key={tag.id}\r\n            onClick={() => {\r\n              onToggleTag(tag.id);\r\n            }}\r\n            className={getClass(tag.id)}\r\n          >\r\n            {tag.name}\r\n          </li>\r\n        ))}\r\n      </ol>\r\n      <button onClick={addTag}>新增标签</button>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport { TagsSection };\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Label = styled.label`\r\n  display: flex;\r\n  align-items: center;\r\n  > span {\r\n    margin-right: 16px;\r\n    white-space: nowrap;\r\n  }\r\n  > input {\r\n    display: block;\r\n    width: 100%;\r\n    height: 44px;\r\n    background: none;\r\n    border: none;\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  label: string;\r\n} & React.InputHTMLAttributes<HTMLInputElement>;\r\nconst Input: React.FC<Props> = (props) => {\r\n  const { label, ...rest } = props;\r\n  return (\r\n    <Label>\r\n      <span>{props.label}</span>\r\n      <input {...rest} />\r\n    </Label>\r\n  );\r\n};\r\n\r\nexport { Input };\r\n","import styled from \"styled-components\";\r\nimport React, { ChangeEventHandler } from \"react\";\r\nimport { Input } from \"components/Input\";\r\n\r\nconst Wrapper = styled.section`\r\n  background: #f5f5f5;\r\n  padding: 14px 16px;\r\n  font-size: 14px;\r\n`;\r\n\r\ntype Props = {\r\n  value: string;\r\n  onChange: (value: string) => void;\r\n};\r\nconst NoteSection: React.FC<Props> = (props) => {\r\n  const note = props.value;\r\n  const onChange: ChangeEventHandler<HTMLInputElement> = (e) => {\r\n    props.onChange(e.target.value);\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <Input\r\n        label=\"备注\"\r\n        type=\"text\"\r\n        value={note}\r\n        onChange={onChange}\r\n        placeholder=\"在这里输入备注\"\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport { NoteSection };\r\n","import styled from \"styled-components\";\r\nimport React, { useState } from \"react\";\r\n\r\nconst Wrapper = styled.section`\r\n  font-size: 24px;\r\n  > ul {\r\n    display: flex;\r\n    > li {\r\n      width: 50%;\r\n      text-align: center;\r\n      padding: 16px 0;\r\n      position: relative;\r\n      &.selected::after {\r\n        content: \"\";\r\n        display: block;\r\n        height: 3px;\r\n        background: #333;\r\n        position: absolute;\r\n        bottom: 0;\r\n        width: 100%;\r\n        left: 0;\r\n      }\r\n    }\r\n  }\r\n`;\r\ntype Props = {\r\n  value: \"-\" | \"+\";\r\n  onChange: (value: \"-\" | \"+\") => void;\r\n};\r\nconst CategorySection: React.FC<Props> = (props) => {\r\n  const categoryMap = { \"-\": \"支出\", \"+\": \"收入\" };\r\n  type Keys = keyof typeof categoryMap;\r\n  const [categoryList] = useState<Keys[]>([\"-\", \"+\"]);\r\n  const category = props.value;\r\n  return (\r\n    <Wrapper>\r\n      <ul>\r\n        {categoryList.map((c) => (\r\n          <li\r\n            key={c}\r\n            className={category === c ? \"selected\" : \"\"}\r\n            onClick={() => {\r\n              props.onChange(c);\r\n            }}\r\n          >\r\n            {categoryMap[c]}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport { CategorySection };\r\n","import styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  > .output {\r\n    background: white;\r\n    font-size: 36px;\r\n    line-height: 72px;\r\n    text-align: right;\r\n    padding: 0 16px;\r\n    box-shadow: inset 0 -5px 5px -5px rgba(0, 0, 0, 0.25),\r\n      inset 0 5px 5px -5px rgba(0, 0, 0, 0.25);\r\n  }\r\n  > .pad {\r\n    > button {\r\n      float: left;\r\n      width: 25%;\r\n      height: 64px;\r\n      border: none;\r\n      &.ok {\r\n        height: 128px;\r\n        float: right;\r\n      }\r\n      &.zero {\r\n        width: 50%;\r\n      }\r\n      &:nth-child(1) {\r\n        background: #d9d9d9;\r\n      }\r\n      &:nth-child(2),\r\n      &:nth-child(5) {\r\n        background: #e0e0e0;\r\n      }\r\n      &:nth-child(3),\r\n      &:nth-child(6),\r\n      &:nth-child(9) {\r\n        background: #d3d3d3;\r\n      }\r\n      &:nth-child(4),\r\n      &:nth-child(7),\r\n      &:nth-child(10) {\r\n        background: #c1c1c1;\r\n      }\r\n      &:nth-child(8),\r\n      &:nth-child(11),\r\n      &:nth-child(13) {\r\n        background: #b8b8b8;\r\n      }\r\n      &:nth-child(12) {\r\n        background: #9a9a9a;\r\n      }\r\n      &:nth-child(14) {\r\n        background: #a9a9a9;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport { Wrapper };\r\n","import React, { useState } from \"react\";\r\nimport { Wrapper } from \"./NumberPadSection/Wrapper\";\r\nimport { generateOutput } from \"./NumberPadSection/generateOutput\";\r\n\r\ntype Props = {\r\n  value: number;\r\n  onChange: (value: number) => void;\r\n  onOk?: () => void;\r\n};\r\nconst NumberPadSection: React.FC<Props> = (props) => {\r\n  const [output, _setOutput] = useState(props.value.toString());\r\n  const setOutput = (output: string) => {\r\n    let newOutput: string;\r\n    if (output.length > 16) {\r\n      newOutput = output.slice(0, 16);\r\n    } else if (output.length === 0) {\r\n      newOutput = \"0\";\r\n    } else {\r\n      newOutput = output;\r\n    }\r\n    _setOutput(newOutput);\r\n    props.onChange(parseFloat(newOutput));\r\n  };\r\n  const onClickButtonWrapper = (e: React.MouseEvent) => {\r\n    const text = (e.target as HTMLButtonElement).textContent;\r\n    if (text === null) {\r\n      return;\r\n    }\r\n    if (text === \"OK\") {\r\n      if (props.onOk) {\r\n        props.onOk();\r\n      }\r\n      return;\r\n    }\r\n    if (\"0123456789.\".split(\"\").concat([\"删除\", \"清空\"]).indexOf(text) >= 0) {\r\n      setOutput(generateOutput(text, output));\r\n    }\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"output\">{output}</div>\r\n      <div className=\"pad clearfix\" onClick={onClickButtonWrapper}>\r\n        <button>1</button>\r\n        <button>2</button>\r\n        <button>3</button>\r\n        <button>删除</button>\r\n        <button>4</button>\r\n        <button>5</button>\r\n        <button>6</button>\r\n        <button>清空</button>\r\n        <button>7</button>\r\n        <button>8</button>\r\n        <button>9</button>\r\n        <button className=\"ok\">OK</button>\r\n        <button className=\"zero\">0</button>\r\n        <button className=\"dot\">.</button>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport { NumberPadSection };\r\n","const generateOutput = (text: string, output = \"0\") => {\r\n  switch (text) {\r\n    case \"0\":\r\n    case \"1\":\r\n    case \"2\":\r\n    case \"3\":\r\n    case \"4\":\r\n    case \"5\":\r\n    case \"6\":\r\n    case \"7\":\r\n    case \"8\":\r\n    case \"9\":\r\n      if (output === \"0\") {\r\n        return text;\r\n      } else {\r\n        return output + text;\r\n      }\r\n    case \".\":\r\n      if (output.indexOf(\".\") >= 0) {\r\n        return output;\r\n      }\r\n      return output + \".\";\r\n    case \"删除\":\r\n      if (output.length === 1) {\r\n        return \"\";\r\n      } else {\r\n        return output.slice(0, -1) || \"\";\r\n      }\r\n    case \"清空\":\r\n      return \"\";\r\n    default:\r\n      return \"\";\r\n  }\r\n};\r\n\r\nexport { generateOutput };\r\n","import { useState, useEffect } from \"react\";\r\nimport { useUpdate } from \"./useUpdate\";\r\nexport type RecordItem = {\r\n  tagIds: number[];\r\n  note: string;\r\n  category: \"+\" | \"-\";\r\n  amount: number;\r\n  createdAt: string; // ISO 8601\r\n};\r\ntype newRecordItem = Omit<RecordItem, \"createdAt\">;\r\nexport const useRecords = () => {\r\n  const [records, setRecords] = useState<RecordItem[]>([]);\r\n  useEffect(() => {\r\n    setRecords(JSON.parse(window.localStorage.getItem(\"records\") || \"[]\"));\r\n  }, []);\r\n  useUpdate(() => {\r\n    window.localStorage.setItem(\"records\", JSON.stringify(records));\r\n  }, records);\r\n  const addRecord = (newRecord: newRecordItem) => {\r\n    if (newRecord.amount <= 0) {\r\n      alert(\"请输入金额\");\r\n      return false;\r\n    }\r\n    if (newRecord.tagIds.length === 0) {\r\n      alert(\"请选择标签\");\r\n      return false;\r\n    }\r\n    const record = { ...newRecord, createdAt: new Date().toISOString() };\r\n    setRecords([...records, record]);\r\n    return true;\r\n  };\r\n  return { records, addRecord };\r\n};\r\n","import Layout from \"components/Layout\";\r\nimport React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { TagsSection } from \"./Money/TagsSection\";\r\nimport { NoteSection } from \"./Money/NoteSection\";\r\nimport { CategorySection } from \"./Money/CategorySection\";\r\nimport { NumberPadSection } from \"./Money/NumberPadSection\";\r\nimport { useRecords } from \"../components/hooks/useRecords\";\r\n\r\nconst MyLayout = styled(Layout)`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\ntype Category = \"-\" | \"+\";\r\nconst defaultFormData = {\r\n  tagIds: [] as number[],\r\n  note: \"\",\r\n  category: \"-\" as Category,\r\n  amount: 0,\r\n};\r\n\r\nconst CategoryWrapper = styled.div`\r\n  background: #c4c4c4;\r\n`;\r\n\r\nfunction Money() {\r\n  const [selected, setSelected] = useState(defaultFormData);\r\n  const { addRecord } = useRecords();\r\n  const onChange = (obj: Partial<typeof selected>) => {\r\n    setSelected({\r\n      ...selected,\r\n      ...obj,\r\n    });\r\n  };\r\n  const submit = () => {\r\n    if (addRecord(selected)) {\r\n      alert(\"保存成功\");\r\n      setSelected(defaultFormData);\r\n    }\r\n  };\r\n  return (\r\n    <MyLayout scrollTop={9999}>\r\n      <TagsSection\r\n        value={selected.tagIds}\r\n        onChange={(tagIds) => onChange({ tagIds })}\r\n      />\r\n      <NoteSection\r\n        value={selected.note}\r\n        onChange={(note) => onChange({ note })}\r\n      />\r\n      <CategoryWrapper>\r\n        <CategorySection\r\n          value={selected.category}\r\n          onChange={(category) => onChange({ category })}\r\n        />\r\n      </CategoryWrapper>\r\n      <NumberPadSection\r\n        value={selected.amount}\r\n        onChange={(amount) => onChange({ amount })}\r\n        onOk={submit}\r\n      />\r\n    </MyLayout>\r\n  );\r\n}\r\n\r\nexport default Money;\r\n","import Layout from \"components/Layout\";\r\nimport React, { useState, ReactNode } from \"react\";\r\nimport { CategorySection } from \"./Money/CategorySection\";\r\nimport styled from \"styled-components\";\r\nimport { useRecords } from \"components/hooks/useRecords\";\r\nimport { useTags } from \"components/hooks/useTags\";\r\nimport day from \"dayjs\";\r\nimport { RecordItem } from \"../components/hooks/useRecords\";\r\n\r\nconst CategoryWrapper = styled.div`\r\n  background: white;\r\n`;\r\nconst Item = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background: white;\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n  > .note {\r\n    margin-right: auto;\r\n    margin-left: 16px;\r\n    color: #999;\r\n  }\r\n`;\r\nconst Header = styled.h3`\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n`;\r\n\r\nfunction Statistics() {\r\n  const [category, setCategory] = useState<\"-\" | \"+\">(\"-\");\r\n  const { records } = useRecords();\r\n  const { getName } = useTags();\r\n  const hash: { [K: string]: RecordItem[] } = {};\r\n  const selectedRecords = records.filter((r) => r.category === category);\r\n  selectedRecords.forEach((r) => {\r\n    const key = day(r.createdAt).format(\"YYYY年MM月DD日\");\r\n    if (!(key in hash)) {\r\n      hash[key] = [];\r\n    }\r\n    hash[key].push(r);\r\n  });\r\n  const array = Object.entries(hash).sort((a, b) => {\r\n    if (a[0] === b[0]) return 0;\r\n    if (a[0] > b[0]) return -1;\r\n    if (a[0] < b[0]) return 1;\r\n    return 0;\r\n  });\r\n  console.log(array);\r\n  return (\r\n    <Layout>\r\n      <CategoryWrapper>\r\n        <CategorySection\r\n          value={category}\r\n          onChange={(value) => setCategory(value)}\r\n        />\r\n      </CategoryWrapper>\r\n      {array.map(([date, records]) => (\r\n        <div key=\"header\">\r\n          <Header>{date}</Header>\r\n          <div>\r\n            {records.map((r) => {\r\n              return (\r\n                <Item key={r.createdAt}>\r\n                  <div className=\"tags oneLine\">\r\n                    {r.tagIds\r\n                      .map((tagId) => <span key={tagId}>{getName(tagId)}</span>)\r\n                      .reduce(\r\n                        (result, span, index, array) =>\r\n                          result.concat(\r\n                            index < array.length - 1 ? [span, \"，\"] : [span]\r\n                          ),\r\n                        [] as ReactNode[]\r\n                      )}\r\n                  </div>\r\n                  {r.note && <div className=\"note\">{r.note}</div>}\r\n                  <div className=\"amount\">￥{r.amount}</div>\r\n                </Item>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Statistics;\r\n","import React from \"react\";\r\nfunction NoMatch() {\r\n  return <div>页面不存在，请输入正确地址~</div>;\r\n}\r\n\r\nexport default NoMatch;\r\n","import React from \"react\";\r\nimport { useTags } from \"components/hooks/useTags\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport Icon from \"../components/Icon\";\r\nimport Layout from \"components/Layout\";\r\nimport { Button } from \"components/Button\";\r\nimport styled from \"styled-components\";\r\nimport { Input } from \"components/Input\";\r\nimport { Center } from \"components/Center\";\r\n\r\nconst InputWrapper = styled.div`\r\n  background: white;\r\n  padding: 0 16px;\r\n  margin-top: 8px;\r\n`;\r\ntype Params = {\r\n  id: string;\r\n};\r\nconst Topbar = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  line-height: 20px;\r\n  padding: 14px;\r\n  background: white;\r\n`;\r\nconst Tag: React.FC = () => {\r\n  const { findTag, updateTag, deleteTag } = useTags();\r\n  let { id: idString } = useParams<Params>();\r\n  const tag = findTag(parseInt(idString));\r\n  const tagContent = (tag: { id: number; name: string }) => (\r\n    <div>\r\n      <InputWrapper>\r\n        <Input\r\n          label=\"标签名\"\r\n          type=\"text\"\r\n          placeholder=\"请输入标签名\"\r\n          value={tag.name}\r\n          onChange={(e) => {\r\n            updateTag(tag.id, { name: e.target.value });\r\n          }}\r\n        />\r\n      </InputWrapper>\r\n      <Center>\r\n        <Button onClick={() => deleteTag(tag.id)}>删除标签</Button>\r\n      </Center>\r\n    </div>\r\n  );\r\n  const history = useHistory();\r\n  const onClickBack = () => {\r\n    history.goBack();\r\n  };\r\n  return (\r\n    <Layout>\r\n      <Topbar>\r\n        <Icon name=\"left\" onClick={onClickBack} />\r\n        <span>编辑标签</span>\r\n        <Icon />\r\n      </Topbar>\r\n      {tag ? tagContent(tag) : <Center>tag 不存在</Center>}\r\n    </Layout>\r\n  );\r\n};\r\nexport { Tag };\r\n","import React from \"react\";\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport Tags from \"Views/Tags\";\nimport Money from \"Views/Money\";\nimport Statistics from \"Views/Statistics\";\nimport NoMatch from \"Views/NoMatch\";\nimport styled from \"styled-components\";\nimport { Tag } from \"./Views/Tag\";\n\nconst AppWrapper = styled.div`\n  color: #333;\n  max-width: 500px;\n  margin: 0 auto;\n`;\n\nfunction App() {\n  return (\n    <AppWrapper>\n      <Router>\n        <Switch>\n          <Route exact path=\"/tags\">\n            <Tags />\n          </Route>\n          <Route exact path=\"/tags/:id\">\n            <Tag />\n          </Route>\n          <Route exact path=\"/money\">\n            <Money />\n          </Route>\n          <Route exact path=\"/statistics\">\n            <Statistics />\n          </Route>\n          <Redirect exact from=\"/\" to=\"money\" />\n          <Route path=\"*\">\n            <NoMatch />\n          </Route>\n        </Switch>\n      </Router>\n    </AppWrapper>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"index.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}